{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withKeys as _withKeys, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createBlock as _createBlock, withCtx as _withCtx } from \"vue\";\nconst _hoisted_1 = {\n  class: \"documents-container\"\n};\nconst _hoisted_2 = {\n  class: \"page-header\"\n};\nconst _hoisted_3 = {\n  class: \"page-actions\"\n};\nconst _hoisted_4 = {\n  class: \"card filter-card\"\n};\nconst _hoisted_5 = {\n  class: \"grid\"\n};\nconst _hoisted_6 = {\n  class: \"col-12 md:col-4\"\n};\nconst _hoisted_7 = {\n  class: \"p-input-icon-left w-full\"\n};\nconst _hoisted_8 = {\n  class: \"col-12 md:col-3\"\n};\nconst _hoisted_9 = {\n  class: \"col-12 md:col-3\"\n};\nconst _hoisted_10 = {\n  class: \"col-12 md:col-2\"\n};\nconst _hoisted_11 = {\n  key: 0,\n  class: \"card loading-card\"\n};\nconst _hoisted_12 = {\n  key: 1,\n  class: \"card empty-state\"\n};\nconst _hoisted_13 = {\n  key: 2,\n  class: \"document-list\"\n};\nconst _hoisted_14 = {\n  class: \"grid\"\n};\nconst _hoisted_15 = {\n  class: \"card document-card\"\n};\nconst _hoisted_16 = {\n  class: \"document-card-content\"\n};\nconst _hoisted_17 = {\n  class: \"document-icon-container\"\n};\nconst _hoisted_18 = {\n  class: \"document-details\"\n};\nconst _hoisted_19 = {\n  class: \"document-title\"\n};\nconst _hoisted_20 = {\n  class: \"document-meta\"\n};\nconst _hoisted_21 = {\n  class: \"document-type\"\n};\nconst _hoisted_22 = {\n  class: \"document-date\"\n};\nconst _hoisted_23 = {\n  class: \"document-info\"\n};\nconst _hoisted_24 = {\n  key: 0,\n  class: \"document-department\"\n};\nconst _hoisted_25 = {\n  class: \"document-size\"\n};\nconst _hoisted_26 = {\n  key: 0,\n  class: \"document-description\"\n};\nconst _hoisted_27 = {\n  class: \"document-actions\"\n};\nconst _hoisted_28 = {\n  class: \"pagination-container\"\n};\nconst _hoisted_29 = {\n  class: \"upload-form\"\n};\nconst _hoisted_30 = {\n  class: \"form-field\"\n};\nconst _hoisted_31 = {\n  key: 0,\n  class: \"p-error\"\n};\nconst _hoisted_32 = {\n  class: \"form-field\"\n};\nconst _hoisted_33 = {\n  class: \"form-field\"\n};\nconst _hoisted_34 = {\n  class: \"form-field\"\n};\nconst _hoisted_35 = {\n  class: \"form-field\"\n};\nconst _hoisted_36 = {\n  class: \"flex align-items-center\"\n};\nconst _hoisted_37 = {\n  class: \"form-field file-upload\"\n};\nconst _hoisted_38 = {\n  key: 0,\n  class: \"p-error\"\n};\nconst _hoisted_39 = {\n  key: 0,\n  class: \"edit-form\"\n};\nconst _hoisted_40 = {\n  class: \"form-field\"\n};\nconst _hoisted_41 = {\n  key: 0,\n  class: \"p-error\"\n};\nconst _hoisted_42 = {\n  class: \"form-field\"\n};\nconst _hoisted_43 = {\n  class: \"form-field\"\n};\nconst _hoisted_44 = {\n  class: \"form-field\"\n};\nconst _hoisted_45 = {\n  class: \"form-field\"\n};\nconst _hoisted_46 = {\n  class: \"flex align-items-center\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Button = _resolveComponent(\"Button\");\n  const _component_InputText = _resolveComponent(\"InputText\");\n  const _component_Dropdown = _resolveComponent(\"Dropdown\");\n  const _component_ProgressSpinner = _resolveComponent(\"ProgressSpinner\");\n  const _component_Tag = _resolveComponent(\"Tag\");\n  const _component_Paginator = _resolveComponent(\"Paginator\");\n  const _component_Textarea = _resolveComponent(\"Textarea\");\n  const _component_Checkbox = _resolveComponent(\"Checkbox\");\n  const _component_FileUpload = _resolveComponent(\"FileUpload\");\n  const _component_ProgressBar = _resolveComponent(\"ProgressBar\");\n  const _component_Dialog = _resolveComponent(\"Dialog\");\n  const _component_ConfirmDialog = _resolveComponent(\"ConfirmDialog\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[16] || (_cache[16] = _createElementVNode(\"h1\", {\n    class: \"page-title\"\n  }, \"Document Repository\", -1)), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_Button, {\n    label: \"Upload Document\",\n    icon: \"pi pi-upload\",\n    class: \"p-button-primary\",\n    onClick: $setup.openUploadDialog\n  }, null, 8, [\"onClick\"])])]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"span\", _hoisted_7, [_cache[17] || (_cache[17] = _createElementVNode(\"i\", {\n    class: \"pi pi-search\"\n  }, null, -1)), _createVNode(_component_InputText, {\n    modelValue: $setup.filters.searchTerm,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.filters.searchTerm = $event),\n    placeholder: \"Search documents\",\n    class: \"w-full\",\n    onKeyup: _withKeys($setup.loadDocuments, [\"enter\"])\n  }, null, 8, [\"modelValue\", \"onKeyup\"])])]), _createElementVNode(\"div\", _hoisted_8, [_createVNode(_component_Dropdown, {\n    modelValue: $setup.filters.category,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.filters.category = $event),\n    options: $setup.categories,\n    optionLabel: \"name\",\n    optionValue: \"value\",\n    placeholder: \"Select category\",\n    class: \"w-full\",\n    onChange: $setup.loadDocuments\n  }, null, 8, [\"modelValue\", \"options\", \"onChange\"])]), _createElementVNode(\"div\", _hoisted_9, [_createVNode(_component_Dropdown, {\n    modelValue: $setup.filters.departmentId,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.filters.departmentId = $event),\n    options: $setup.departments,\n    optionLabel: \"name\",\n    optionValue: \"id\",\n    placeholder: \"Select department\",\n    class: \"w-full\",\n    onChange: $setup.loadDocuments\n  }, null, 8, [\"modelValue\", \"options\", \"onChange\"])]), _createElementVNode(\"div\", _hoisted_10, [_createVNode(_component_Button, {\n    icon: \"pi pi-filter-slash\",\n    label: \"Clear\",\n    class: \"p-button-outlined w-full\",\n    onClick: $setup.clearFilters\n  }, null, 8, [\"onClick\"])])])]), $setup.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [_createVNode(_component_ProgressSpinner, {\n    class: \"spinner\"\n  }), _cache[18] || (_cache[18] = _createElementVNode(\"p\", null, \"Loading documents...\", -1))])) : $setup.documents.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [_cache[19] || (_cache[19] = _createElementVNode(\"i\", {\n    class: \"pi pi-folder-open empty-icon\"\n  }, null, -1)), _cache[20] || (_cache[20] = _createElementVNode(\"h3\", null, \"No documents found\", -1)), _cache[21] || (_cache[21] = _createElementVNode(\"p\", null, \"There are no documents matching your criteria. Try adjusting your filters or upload a new document.\", -1)), _createVNode(_component_Button, {\n    label: \"Upload Document\",\n    icon: \"pi pi-upload\",\n    onClick: $setup.openUploadDialog\n  }, null, 8, [\"onClick\"])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.documents, doc => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: doc.id,\n      class: \"col-12 md:col-6 lg:col-4\"\n    }, [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"i\", {\n      class: _normalizeClass([\"document-icon pi\", $setup.getDocumentIcon(doc.file_type)])\n    }, null, 2)]), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, _toDisplayString(doc.title), 1), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"span\", _hoisted_21, _toDisplayString($setup.formatFileType(doc.file_type)), 1), _createElementVNode(\"span\", _hoisted_22, _toDisplayString($setup.formatDate(doc.created_at)), 1)]), _createElementVNode(\"div\", _hoisted_23, [doc.department_name ? (_openBlock(), _createElementBlock(\"span\", _hoisted_24, [_cache[22] || (_cache[22] = _createElementVNode(\"i\", {\n      class: \"pi pi-building\"\n    }, null, -1)), _createTextVNode(\" \" + _toDisplayString(doc.department_name), 1)])) : _createCommentVNode(\"\", true), _createElementVNode(\"span\", _hoisted_25, [_cache[23] || (_cache[23] = _createElementVNode(\"i\", {\n      class: \"pi pi-file\"\n    }, null, -1)), _createTextVNode(\" \" + _toDisplayString($setup.formatFileSize(doc.file_size)), 1)])]), doc.description ? (_openBlock(), _createElementBlock(\"div\", _hoisted_26, _toDisplayString($setup.truncateText(doc.description, 100)), 1)) : _createCommentVNode(\"\", true), doc.is_public ? (_openBlock(), _createBlock(_component_Tag, {\n      key: 1,\n      severity: \"info\",\n      value: \"Public\",\n      class: \"document-tag\"\n    })) : _createCommentVNode(\"\", true)])]), _createElementVNode(\"div\", _hoisted_27, [_createVNode(_component_Button, {\n      icon: \"pi pi-eye\",\n      class: \"p-button-rounded p-button-text\",\n      onClick: $event => $setup.viewDocument(doc.id),\n      tooltip: \"View\",\n      tooltipOptions: \"{ position: 'top' }\"\n    }, null, 8, [\"onClick\"]), _createVNode(_component_Button, {\n      icon: \"pi pi-download\",\n      class: \"p-button-rounded p-button-text\",\n      onClick: $event => $setup.downloadDocument(doc),\n      tooltip: \"Download\",\n      tooltipOptions: \"{ position: 'top' }\"\n    }, null, 8, [\"onClick\"]), $setup.canEditDocument(doc) ? (_openBlock(), _createBlock(_component_Button, {\n      key: 0,\n      icon: \"pi pi-pencil\",\n      class: \"p-button-rounded p-button-text\",\n      onClick: $event => $setup.editDocument(doc),\n      tooltip: \"Edit\",\n      tooltipOptions: \"{ position: 'top' }\"\n    }, null, 8, [\"onClick\"])) : _createCommentVNode(\"\", true), $setup.canDeleteDocument(doc) ? (_openBlock(), _createBlock(_component_Button, {\n      key: 1,\n      icon: \"pi pi-trash\",\n      class: \"p-button-rounded p-button-text p-button-danger\",\n      onClick: $event => $setup.confirmDeleteDocument(doc),\n      tooltip: \"Delete\",\n      tooltipOptions: \"{ position: 'top' }\"\n    }, null, 8, [\"onClick\"])) : _createCommentVNode(\"\", true)])])]);\n  }), 128))]), _createElementVNode(\"div\", _hoisted_28, [$setup.pagination.total > $setup.pagination.per_page ? (_openBlock(), _createBlock(_component_Paginator, {\n    key: 0,\n    rows: $setup.pagination.per_page,\n    totalRecords: $setup.pagination.total,\n    first: ($setup.pagination.current_page - 1) * $setup.pagination.per_page,\n    rowsPerPageOptions: [10, 20, 50],\n    onPage: _cache[3] || (_cache[3] = $event => $setup.onPageChange($event))\n  }, null, 8, [\"rows\", \"totalRecords\", \"first\"])) : _createCommentVNode(\"\", true)])])), _createVNode(_component_Dialog, {\n    visible: $setup.uploadDialogVisible,\n    \"onUpdate:visible\": _cache[9] || (_cache[9] = $event => $setup.uploadDialogVisible = $event),\n    header: \"Upload Document\",\n    modal: true,\n    style: {\n      width: '500px'\n    },\n    closable: !$setup.uploading,\n    closeOnEscape: !$setup.uploading\n  }, {\n    footer: _withCtx(() => [_createVNode(_component_Button, {\n      label: \"Cancel\",\n      icon: \"pi pi-times\",\n      class: \"p-button-text\",\n      onClick: $setup.closeUploadDialog,\n      disabled: $setup.uploading\n    }, null, 8, [\"onClick\", \"disabled\"]), _createVNode(_component_Button, {\n      label: \"Upload\",\n      icon: \"pi pi-upload\",\n      onClick: $setup.uploadDocument,\n      loading: $setup.uploading\n    }, null, 8, [\"onClick\", \"loading\"])]),\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_29, [_createElementVNode(\"div\", _hoisted_30, [_cache[24] || (_cache[24] = _createElementVNode(\"label\", {\n      for: \"documentTitle\"\n    }, [_createTextVNode(\"Title \"), _createElementVNode(\"span\", {\n      class: \"required\"\n    }, \"*\")], -1)), _createVNode(_component_InputText, {\n      id: \"documentTitle\",\n      modelValue: $setup.documentForm.title,\n      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.documentForm.title = $event),\n      class: _normalizeClass([\"w-full\", {\n        'p-invalid': $setup.submitted && !$setup.documentForm.title\n      }]),\n      disabled: $setup.uploading\n    }, null, 8, [\"modelValue\", \"disabled\", \"class\"]), $setup.submitted && !$setup.documentForm.title ? (_openBlock(), _createElementBlock(\"small\", _hoisted_31, \"Title is required\")) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_32, [_cache[25] || (_cache[25] = _createElementVNode(\"label\", {\n      for: \"documentDescription\"\n    }, \"Description\", -1)), _createVNode(_component_Textarea, {\n      id: \"documentDescription\",\n      modelValue: $setup.documentForm.description,\n      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.documentForm.description = $event),\n      rows: \"3\",\n      class: \"w-full\",\n      disabled: $setup.uploading\n    }, null, 8, [\"modelValue\", \"disabled\"])]), _createElementVNode(\"div\", _hoisted_33, [_cache[26] || (_cache[26] = _createElementVNode(\"label\", {\n      for: \"documentCategory\"\n    }, \"Category\", -1)), _createVNode(_component_Dropdown, {\n      id: \"documentCategory\",\n      modelValue: $setup.documentForm.category,\n      \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.documentForm.category = $event),\n      options: $setup.categories,\n      optionLabel: \"name\",\n      optionValue: \"value\",\n      placeholder: \"Select category\",\n      class: \"w-full\",\n      disabled: $setup.uploading\n    }, null, 8, [\"modelValue\", \"options\", \"disabled\"])]), _createElementVNode(\"div\", _hoisted_34, [_cache[27] || (_cache[27] = _createElementVNode(\"label\", {\n      for: \"documentDepartment\"\n    }, \"Department\", -1)), _createVNode(_component_Dropdown, {\n      id: \"documentDepartment\",\n      modelValue: $setup.documentForm.departmentId,\n      \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.documentForm.departmentId = $event),\n      options: $setup.departments,\n      optionLabel: \"name\",\n      optionValue: \"id\",\n      placeholder: \"Select department\",\n      class: \"w-full\",\n      disabled: $setup.uploading\n    }, null, 8, [\"modelValue\", \"options\", \"disabled\"])]), _createElementVNode(\"div\", _hoisted_35, [_createElementVNode(\"div\", _hoisted_36, [_createVNode(_component_Checkbox, {\n      id: \"isPublic\",\n      modelValue: $setup.documentForm.isPublic,\n      \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $setup.documentForm.isPublic = $event),\n      binary: true,\n      disabled: $setup.uploading\n    }, null, 8, [\"modelValue\", \"disabled\"]), _cache[28] || (_cache[28] = _createElementVNode(\"label\", {\n      for: \"isPublic\",\n      class: \"ml-2\"\n    }, \"Make document public\", -1))])]), _createElementVNode(\"div\", _hoisted_37, [_cache[30] || (_cache[30] = _createElementVNode(\"label\", null, [_createTextVNode(\"Document File \"), _createElementVNode(\"span\", {\n      class: \"required\"\n    }, \"*\")], -1)), _createVNode(_component_FileUpload, {\n      name: \"document\",\n      multiple: false,\n      accept: \"application/pdf, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, text/plain, image/jpeg, image/png\",\n      maxFileSize: 10000000,\n      onSelect: $setup.onFileSelect,\n      onClear: $setup.onFileClear,\n      disabled: $setup.uploading,\n      auto: false,\n      chooseLabel: \"Select Document\",\n      class: _normalizeClass({\n        'p-invalid': $setup.submitted && !$setup.selectedFile\n      })\n    }, {\n      empty: _withCtx(() => _cache[29] || (_cache[29] = [_createElementVNode(\"p\", null, \"Drag and drop a file here or click to browse.\", -1), _createElementVNode(\"p\", {\n        class: \"text-sm\"\n      }, \"Supported formats: PDF, Word, Excel, PowerPoint, Text, and Images\", -1), _createElementVNode(\"p\", {\n        class: \"text-sm\"\n      }, \"Maximum file size: 10MB\", -1)])),\n      _: 1\n    }, 8, [\"onSelect\", \"onClear\", \"disabled\", \"class\"]), $setup.submitted && !$setup.selectedFile ? (_openBlock(), _createElementBlock(\"small\", _hoisted_38, \"Document file is required\")) : _createCommentVNode(\"\", true)]), $setup.uploading ? (_openBlock(), _createBlock(_component_ProgressBar, {\n      key: 0,\n      value: $setup.uploadProgress,\n      class: \"mt-3\"\n    }, null, 8, [\"value\"])) : _createCommentVNode(\"\", true)])]),\n    _: 1\n  }, 8, [\"visible\", \"closable\", \"closeOnEscape\"]), _createVNode(_component_Dialog, {\n    visible: $setup.editDialogVisible,\n    \"onUpdate:visible\": _cache[15] || (_cache[15] = $event => $setup.editDialogVisible = $event),\n    header: \"Edit Document\",\n    modal: true,\n    style: {\n      width: '500px'\n    }\n  }, {\n    footer: _withCtx(() => [_createVNode(_component_Button, {\n      label: \"Cancel\",\n      icon: \"pi pi-times\",\n      class: \"p-button-text\",\n      onClick: $setup.closeEditDialog\n    }, null, 8, [\"onClick\"]), _createVNode(_component_Button, {\n      label: \"Save\",\n      icon: \"pi pi-check\",\n      onClick: $setup.saveDocumentChanges\n    }, null, 8, [\"onClick\"])]),\n    default: _withCtx(() => [$setup.selectedDocument ? (_openBlock(), _createElementBlock(\"div\", _hoisted_39, [_createElementVNode(\"div\", _hoisted_40, [_cache[31] || (_cache[31] = _createElementVNode(\"label\", {\n      for: \"editTitle\"\n    }, [_createTextVNode(\"Title \"), _createElementVNode(\"span\", {\n      class: \"required\"\n    }, \"*\")], -1)), _createVNode(_component_InputText, {\n      id: \"editTitle\",\n      modelValue: $setup.editForm.title,\n      \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $setup.editForm.title = $event),\n      class: _normalizeClass([\"w-full\", {\n        'p-invalid': $setup.editSubmitted && !$setup.editForm.title\n      }])\n    }, null, 8, [\"modelValue\", \"class\"]), $setup.editSubmitted && !$setup.editForm.title ? (_openBlock(), _createElementBlock(\"small\", _hoisted_41, \"Title is required\")) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_42, [_cache[32] || (_cache[32] = _createElementVNode(\"label\", {\n      for: \"editDescription\"\n    }, \"Description\", -1)), _createVNode(_component_Textarea, {\n      id: \"editDescription\",\n      modelValue: $setup.editForm.description,\n      \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $setup.editForm.description = $event),\n      rows: \"3\",\n      class: \"w-full\"\n    }, null, 8, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_43, [_cache[33] || (_cache[33] = _createElementVNode(\"label\", {\n      for: \"editCategory\"\n    }, \"Category\", -1)), _createVNode(_component_Dropdown, {\n      id: \"editCategory\",\n      modelValue: $setup.editForm.category,\n      \"onUpdate:modelValue\": _cache[12] || (_cache[12] = $event => $setup.editForm.category = $event),\n      options: $setup.categories,\n      optionLabel: \"name\",\n      optionValue: \"value\",\n      placeholder: \"Select category\",\n      class: \"w-full\"\n    }, null, 8, [\"modelValue\", \"options\"])]), _createElementVNode(\"div\", _hoisted_44, [_cache[34] || (_cache[34] = _createElementVNode(\"label\", {\n      for: \"editDepartment\"\n    }, \"Department\", -1)), _createVNode(_component_Dropdown, {\n      id: \"editDepartment\",\n      modelValue: $setup.editForm.departmentId,\n      \"onUpdate:modelValue\": _cache[13] || (_cache[13] = $event => $setup.editForm.departmentId = $event),\n      options: $setup.departments,\n      optionLabel: \"name\",\n      optionValue: \"id\",\n      placeholder: \"Select department\",\n      class: \"w-full\"\n    }, null, 8, [\"modelValue\", \"options\"])]), _createElementVNode(\"div\", _hoisted_45, [_createElementVNode(\"div\", _hoisted_46, [_createVNode(_component_Checkbox, {\n      id: \"editIsPublic\",\n      modelValue: $setup.editForm.isPublic,\n      \"onUpdate:modelValue\": _cache[14] || (_cache[14] = $event => $setup.editForm.isPublic = $event),\n      binary: true\n    }, null, 8, [\"modelValue\"]), _cache[35] || (_cache[35] = _createElementVNode(\"label\", {\n      for: \"editIsPublic\",\n      class: \"ml-2\"\n    }, \"Make document public\", -1))])])])) : _createCommentVNode(\"\", true)]),\n    _: 1\n  }, 8, [\"visible\"]), _createVNode(_component_ConfirmDialog)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_component_Button","label","icon","onClick","$setup","openUploadDialog","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_component_InputText","modelValue","filters","searchTerm","_cache","$event","placeholder","onKeyup","_withKeys","loadDocuments","_hoisted_8","_component_Dropdown","category","options","categories","optionLabel","optionValue","onChange","_hoisted_9","departmentId","departments","_hoisted_10","clearFilters","loading","_hoisted_11","_component_ProgressSpinner","documents","length","_hoisted_12","_hoisted_13","_hoisted_14","_Fragment","_renderList","doc","id","_hoisted_15","_hoisted_16","_hoisted_17","_normalizeClass","getDocumentIcon","file_type","_hoisted_18","_hoisted_19","_toDisplayString","title","_hoisted_20","_hoisted_21","formatFileType","_hoisted_22","formatDate","created_at","_hoisted_23","department_name","_hoisted_24","_createTextVNode","_createCommentVNode","_hoisted_25","formatFileSize","file_size","description","_hoisted_26","truncateText","is_public","_createBlock","_component_Tag","severity","value","_hoisted_27","viewDocument","tooltip","tooltipOptions","downloadDocument","canEditDocument","editDocument","canDeleteDocument","confirmDeleteDocument","_hoisted_28","pagination","total","per_page","_component_Paginator","rows","totalRecords","first","current_page","rowsPerPageOptions","onPage","onPageChange","_component_Dialog","visible","uploadDialogVisible","header","modal","style","width","closable","uploading","closeOnEscape","footer","_withCtx","closeUploadDialog","disabled","uploadDocument","default","_hoisted_29","_hoisted_30","for","documentForm","submitted","_hoisted_31","_hoisted_32","_component_Textarea","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_component_Checkbox","isPublic","binary","_hoisted_37","_component_FileUpload","name","multiple","accept","maxFileSize","onSelect","onFileSelect","onClear","onFileClear","auto","chooseLabel","selectedFile","empty","_","_hoisted_38","_component_ProgressBar","uploadProgress","editDialogVisible","closeEditDialog","saveDocumentChanges","selectedDocument","_hoisted_39","_hoisted_40","editForm","editSubmitted","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_component_ConfirmDialog"],"sources":["/home/pi/projects/intranet/frontend/src/views/Documents.vue"],"sourcesContent":["<template>\r\n    <div class=\"documents-container\">\r\n      <div class=\"page-header\">\r\n        <h1 class=\"page-title\">Document Repository</h1>\r\n        <div class=\"page-actions\">\r\n          <Button \r\n            label=\"Upload Document\" \r\n            icon=\"pi pi-upload\" \r\n            class=\"p-button-primary\" \r\n            @click=\"openUploadDialog\"\r\n          />\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- Filters -->\r\n      <div class=\"card filter-card\">\r\n        <div class=\"grid\">\r\n          <div class=\"col-12 md:col-4\">\r\n            <span class=\"p-input-icon-left w-full\">\r\n              <i class=\"pi pi-search\" />\r\n              <InputText \r\n                v-model=\"filters.searchTerm\" \r\n                placeholder=\"Search documents\" \r\n                class=\"w-full\"\r\n                @keyup.enter=\"loadDocuments\"\r\n              />\r\n            </span>\r\n          </div>\r\n          \r\n          <div class=\"col-12 md:col-3\">\r\n            <Dropdown\r\n              v-model=\"filters.category\"\r\n              :options=\"categories\"\r\n              optionLabel=\"name\"\r\n              optionValue=\"value\"\r\n              placeholder=\"Select category\"\r\n              class=\"w-full\"\r\n              @change=\"loadDocuments\"\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"col-12 md:col-3\">\r\n            <Dropdown\r\n              v-model=\"filters.departmentId\"\r\n              :options=\"departments\"\r\n              optionLabel=\"name\"\r\n              optionValue=\"id\"\r\n              placeholder=\"Select department\"\r\n              class=\"w-full\"\r\n              @change=\"loadDocuments\"\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"col-12 md:col-2\">\r\n            <Button \r\n              icon=\"pi pi-filter-slash\" \r\n              label=\"Clear\" \r\n              class=\"p-button-outlined w-full\" \r\n              @click=\"clearFilters\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- Loading state -->\r\n      <div v-if=\"loading\" class=\"card loading-card\">\r\n        <ProgressSpinner class=\"spinner\" />\r\n        <p>Loading documents...</p>\r\n      </div>\r\n      \r\n      <!-- Empty state -->\r\n      <div v-else-if=\"documents.length === 0\" class=\"card empty-state\">\r\n        <i class=\"pi pi-folder-open empty-icon\"></i>\r\n        <h3>No documents found</h3>\r\n        <p>There are no documents matching your criteria. Try adjusting your filters or upload a new document.</p>\r\n        <Button label=\"Upload Document\" icon=\"pi pi-upload\" @click=\"openUploadDialog\" />\r\n      </div>\r\n      \r\n      <!-- Documents list -->\r\n      <div v-else class=\"document-list\">\r\n        <div class=\"grid\">\r\n          <div \r\n            v-for=\"doc in documents\" \r\n            :key=\"doc.id\" \r\n            class=\"col-12 md:col-6 lg:col-4\"\r\n          >\r\n            <div class=\"card document-card\">\r\n              <div class=\"document-card-content\">\r\n                <div class=\"document-icon-container\">\r\n                  <i class=\"document-icon pi\" :class=\"getDocumentIcon(doc.file_type)\"></i>\r\n                </div>\r\n                \r\n                <div class=\"document-details\">\r\n                  <div class=\"document-title\">{{ doc.title }}</div>\r\n                  <div class=\"document-meta\">\r\n                    <span class=\"document-type\">{{ formatFileType(doc.file_type) }}</span>\r\n                    <span class=\"document-date\">{{ formatDate(doc.created_at) }}</span>\r\n                  </div>\r\n                  <div class=\"document-info\">\r\n                    <span v-if=\"doc.department_name\" class=\"document-department\">\r\n                      <i class=\"pi pi-building\"></i> {{ doc.department_name }}\r\n                    </span>\r\n                    <span class=\"document-size\">\r\n                      <i class=\"pi pi-file\"></i> {{ formatFileSize(doc.file_size) }}\r\n                    </span>\r\n                  </div>\r\n                  <div v-if=\"doc.description\" class=\"document-description\">\r\n                    {{ truncateText(doc.description, 100) }}\r\n                  </div>\r\n                  <Tag \r\n                    v-if=\"doc.is_public\" \r\n                    severity=\"info\" \r\n                    value=\"Public\" \r\n                    class=\"document-tag\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"document-actions\">\r\n                <Button \r\n                  icon=\"pi pi-eye\" \r\n                  class=\"p-button-rounded p-button-text\" \r\n                  @click=\"viewDocument(doc.id)\"\r\n                  tooltip=\"View\"\r\n                  tooltipOptions=\"{ position: 'top' }\"\r\n                />\r\n                <Button \r\n                  icon=\"pi pi-download\" \r\n                  class=\"p-button-rounded p-button-text\" \r\n                  @click=\"downloadDocument(doc)\"\r\n                  tooltip=\"Download\"\r\n                  tooltipOptions=\"{ position: 'top' }\"\r\n                />\r\n                <Button \r\n                  v-if=\"canEditDocument(doc)\"\r\n                  icon=\"pi pi-pencil\" \r\n                  class=\"p-button-rounded p-button-text\" \r\n                  @click=\"editDocument(doc)\"\r\n                  tooltip=\"Edit\"\r\n                  tooltipOptions=\"{ position: 'top' }\"\r\n                />\r\n                <Button \r\n                  v-if=\"canDeleteDocument(doc)\"\r\n                  icon=\"pi pi-trash\" \r\n                  class=\"p-button-rounded p-button-text p-button-danger\" \r\n                  @click=\"confirmDeleteDocument(doc)\"\r\n                  tooltip=\"Delete\"\r\n                  tooltipOptions=\"{ position: 'top' }\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- Pagination -->\r\n        <div class=\"pagination-container\">\r\n          <Paginator \r\n            v-if=\"pagination.total > pagination.per_page\"\r\n            :rows=\"pagination.per_page\" \r\n            :totalRecords=\"pagination.total\"\r\n            :first=\"(pagination.current_page - 1) * pagination.per_page\"\r\n            :rowsPerPageOptions=\"[10, 20, 50]\"\r\n            @page=\"onPageChange($event)\"\r\n          />\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- Upload document dialog -->\r\n      <Dialog \r\n        v-model:visible=\"uploadDialogVisible\" \r\n        header=\"Upload Document\" \r\n        :modal=\"true\"\r\n        :style=\"{ width: '500px' }\"\r\n        :closable=\"!uploading\"\r\n        :closeOnEscape=\"!uploading\"\r\n      >\r\n        <div class=\"upload-form\">\r\n          <div class=\"form-field\">\r\n            <label for=\"documentTitle\">Title <span class=\"required\">*</span></label>\r\n            <InputText \r\n              id=\"documentTitle\" \r\n              v-model=\"documentForm.title\" \r\n              class=\"w-full\"\r\n              :disabled=\"uploading\"\r\n              :class=\"{ 'p-invalid': submitted && !documentForm.title }\"\r\n            />\r\n            <small v-if=\"submitted && !documentForm.title\" class=\"p-error\">Title is required</small>\r\n          </div>\r\n          \r\n          <div class=\"form-field\">\r\n            <label for=\"documentDescription\">Description</label>\r\n            <Textarea \r\n              id=\"documentDescription\" \r\n              v-model=\"documentForm.description\" \r\n              rows=\"3\" \r\n              class=\"w-full\"\r\n              :disabled=\"uploading\"\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"form-field\">\r\n            <label for=\"documentCategory\">Category</label>\r\n            <Dropdown\r\n              id=\"documentCategory\"\r\n              v-model=\"documentForm.category\"\r\n              :options=\"categories\"\r\n              optionLabel=\"name\"\r\n              optionValue=\"value\"\r\n              placeholder=\"Select category\"\r\n              class=\"w-full\"\r\n              :disabled=\"uploading\"\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"form-field\">\r\n            <label for=\"documentDepartment\">Department</label>\r\n            <Dropdown\r\n              id=\"documentDepartment\"\r\n              v-model=\"documentForm.departmentId\"\r\n              :options=\"departments\"\r\n              optionLabel=\"name\"\r\n              optionValue=\"id\"\r\n              placeholder=\"Select department\"\r\n              class=\"w-full\"\r\n              :disabled=\"uploading\"\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"form-field\">\r\n            <div class=\"flex align-items-center\">\r\n              <Checkbox \r\n                id=\"isPublic\" \r\n                v-model=\"documentForm.isPublic\" \r\n                :binary=\"true\"\r\n                :disabled=\"uploading\"\r\n              />\r\n              <label for=\"isPublic\" class=\"ml-2\">Make document public</label>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"form-field file-upload\">\r\n            <label>Document File <span class=\"required\">*</span></label>\r\n            <FileUpload\r\n              name=\"document\"\r\n              :multiple=\"false\"\r\n              accept=\"application/pdf, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, text/plain, image/jpeg, image/png\"\r\n              :maxFileSize=\"10000000\"\r\n              @select=\"onFileSelect\"\r\n              @clear=\"onFileClear\"\r\n              :disabled=\"uploading\"\r\n              :auto=\"false\"\r\n              chooseLabel=\"Select Document\"\r\n              :class=\"{ 'p-invalid': submitted && !selectedFile }\"\r\n            >\r\n              <template #empty>\r\n                <p>Drag and drop a file here or click to browse.</p>\r\n                <p class=\"text-sm\">Supported formats: PDF, Word, Excel, PowerPoint, Text, and Images</p>\r\n                <p class=\"text-sm\">Maximum file size: 10MB</p>\r\n              </template>\r\n            </FileUpload>\r\n            <small v-if=\"submitted && !selectedFile\" class=\"p-error\">Document file is required</small>\r\n          </div>\r\n          \r\n          <ProgressBar v-if=\"uploading\" :value=\"uploadProgress\" class=\"mt-3\" />\r\n        </div>\r\n        \r\n        <template #footer>\r\n          <Button \r\n            label=\"Cancel\" \r\n            icon=\"pi pi-times\" \r\n            class=\"p-button-text\" \r\n            @click=\"closeUploadDialog\" \r\n            :disabled=\"uploading\"\r\n          />\r\n          <Button \r\n            label=\"Upload\" \r\n            icon=\"pi pi-upload\" \r\n            @click=\"uploadDocument\" \r\n            :loading=\"uploading\"\r\n          />\r\n        </template>\r\n      </Dialog>\r\n      \r\n      <!-- Edit document dialog -->\r\n      <Dialog \r\n        v-model:visible=\"editDialogVisible\" \r\n        header=\"Edit Document\" \r\n        :modal=\"true\"\r\n        :style=\"{ width: '500px' }\"\r\n      >\r\n        <div class=\"edit-form\" v-if=\"selectedDocument\">\r\n          <div class=\"form-field\">\r\n            <label for=\"editTitle\">Title <span class=\"required\">*</span></label>\r\n            <InputText \r\n              id=\"editTitle\" \r\n              v-model=\"editForm.title\" \r\n              class=\"w-full\"\r\n              :class=\"{ 'p-invalid': editSubmitted && !editForm.title }\"\r\n            />\r\n            <small v-if=\"editSubmitted && !editForm.title\" class=\"p-error\">Title is required</small>\r\n          </div>\r\n          \r\n          <div class=\"form-field\">\r\n            <label for=\"editDescription\">Description</label>\r\n            <Textarea \r\n              id=\"editDescription\" \r\n              v-model=\"editForm.description\" \r\n              rows=\"3\" \r\n              class=\"w-full\"\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"form-field\">\r\n            <label for=\"editCategory\">Category</label>\r\n            <Dropdown\r\n              id=\"editCategory\"\r\n              v-model=\"editForm.category\"\r\n              :options=\"categories\"\r\n              optionLabel=\"name\"\r\n              optionValue=\"value\"\r\n              placeholder=\"Select category\"\r\n              class=\"w-full\"\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"form-field\">\r\n            <label for=\"editDepartment\">Department</label>\r\n            <Dropdown\r\n              id=\"editDepartment\"\r\n              v-model=\"editForm.departmentId\"\r\n              :options=\"departments\"\r\n              optionLabel=\"name\"\r\n              optionValue=\"id\"\r\n              placeholder=\"Select department\"\r\n              class=\"w-full\"\r\n            />\r\n          </div>\r\n          \r\n          <div class=\"form-field\">\r\n            <div class=\"flex align-items-center\">\r\n              <Checkbox \r\n                id=\"editIsPublic\" \r\n                v-model=\"editForm.isPublic\" \r\n                :binary=\"true\"\r\n              />\r\n              <label for=\"editIsPublic\" class=\"ml-2\">Make document public</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <template #footer>\r\n          <Button \r\n            label=\"Cancel\" \r\n            icon=\"pi pi-times\" \r\n            class=\"p-button-text\" \r\n            @click=\"closeEditDialog\"\r\n          />\r\n          <Button \r\n            label=\"Save\" \r\n            icon=\"pi pi-check\" \r\n            @click=\"saveDocumentChanges\"\r\n          />\r\n        </template>\r\n      </Dialog>\r\n      \r\n      <!-- Delete confirmation dialog -->\r\n      <ConfirmDialog></ConfirmDialog>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { ref, reactive, computed, onMounted } from 'vue';\r\n  import { useStore } from 'vuex';\r\n  import { useRouter } from 'vue-router';\r\n  import { useConfirm } from 'primevue/useconfirm';\r\n  import InputText from 'primevue/inputtext';\r\n  import Button from 'primevue/button';\r\n  import Dropdown from 'primevue/dropdown';\r\n  import ProgressSpinner from 'primevue/progressspinner';\r\n  import ProgressBar from 'primevue/progressbar';\r\n  import FileUpload from 'primevue/fileupload';\r\n  import Paginator from 'primevue/paginator';\r\n  import Dialog from 'primevue/dialog';\r\n  import Textarea from 'primevue/textarea';\r\n  import Checkbox from 'primevue/checkbox';\r\n  import Tag from 'primevue/tag';\r\n  import ConfirmDialog from 'primevue/confirmdialog';\r\n  import api from '../services/api';\r\n  \r\n  export default {\r\n    name: 'DocumentsView',\r\n    components: {\r\n      InputText,\r\n      Button,\r\n      Dropdown,\r\n      ProgressSpinner,\r\n      ProgressBar,\r\n      FileUpload,\r\n      Paginator,\r\n      Dialog,\r\n      Textarea,\r\n      Checkbox,\r\n      Tag,\r\n      ConfirmDialog\r\n    },\r\n    \r\n    setup() {\r\n      const store = useStore();\r\n      const router = useRouter();\r\n      const confirm = useConfirm();\r\n      \r\n      // State\r\n      const loading = ref(false);\r\n      const documents = ref([]);\r\n      const selectedDocument = ref(null);\r\n      const selectedFile = ref(null);\r\n      const uploading = ref(false);\r\n      const uploadProgress = ref(0);\r\n      const submitted = ref(false);\r\n      const editSubmitted = ref(false);\r\n      const uploadDialogVisible = ref(false);\r\n      const editDialogVisible = ref(false);\r\n      \r\n      // Pagination\r\n      const pagination = ref({\r\n        current_page: 1,\r\n        per_page: 20,\r\n        total: 0,\r\n        last_page: 1\r\n      });\r\n      \r\n      // Filters\r\n      const filters = reactive({\r\n        searchTerm: '',\r\n        category: null,\r\n        departmentId: null\r\n      });\r\n      \r\n      // Form data\r\n      const documentForm = reactive({\r\n        title: '',\r\n        description: '',\r\n        category: null,\r\n        departmentId: null,\r\n        isPublic: false\r\n      });\r\n      \r\n      const editForm = reactive({\r\n        title: '',\r\n        description: '',\r\n        category: null,\r\n        departmentId: null,\r\n        isPublic: false\r\n      });\r\n      \r\n      // Computed values\r\n      const isAdmin = computed(() => store.getters['auth/isAdmin']);\r\n      const currentUser = computed(() => store.getters['auth/currentUser']);\r\n      \r\n      const categories = computed(() => [\r\n        { name: 'All Categories', value: null },\r\n        { name: 'Report', value: 'report' },\r\n        { name: 'Policy', value: 'policy' },\r\n        { name: 'Procedure', value: 'procedure' },\r\n        { name: 'Form', value: 'form' },\r\n        { name: 'Presentation', value: 'presentation' },\r\n        { name: 'Template', value: 'template' },\r\n        { name: 'Financial', value: 'financial' },\r\n        { name: 'HR', value: 'hr' },\r\n        { name: 'Marketing', value: 'marketing' },\r\n        { name: 'Technical', value: 'technical' },\r\n        { name: 'Other', value: 'other' }\r\n      ]);\r\n      \r\n      const departments = computed(() => {\r\n        const depts = [{ name: 'All Departments', value: null }];\r\n        const departmentsList = store.state.departments?.list || [];\r\n        \r\n        departmentsList.forEach(dept => {\r\n          depts.push({\r\n            name: dept.name,\r\n            id: dept.id\r\n          });\r\n        });\r\n        \r\n        return depts;\r\n      });\r\n      \r\n      // Methods\r\n      const loadDocuments = async (page = 1) => {\r\n        try {\r\n          loading.value = true;\r\n          \r\n          const response = await api.get('/api/documents', {\r\n            params: {\r\n              page,\r\n              limit: pagination.value.per_page,\r\n              search: filters.searchTerm || undefined,\r\n              category: filters.category || undefined,\r\n              departmentId: filters.departmentId || undefined\r\n            }\r\n          });\r\n          \r\n          documents.value = response.data.data;\r\n          pagination.value = response.data.pagination;\r\n        } catch (error) {\r\n          console.error('Error loading documents:', error);\r\n          store.dispatch('showToast', {\r\n            severity: 'error',\r\n            summary: 'Error',\r\n            detail: 'Failed to load documents'\r\n          });\r\n        } finally {\r\n          loading.value = false;\r\n        }\r\n      };\r\n      \r\n      const onPageChange = (event) => {\r\n        const page = event.page + 1;\r\n        loadDocuments(page);\r\n      };\r\n      \r\n      const clearFilters = () => {\r\n        filters.searchTerm = '';\r\n        filters.category = null;\r\n        filters.departmentId = null;\r\n        loadDocuments();\r\n      };\r\n      \r\n      const openUploadDialog = () => {\r\n        // Reset form\r\n        documentForm.title = '';\r\n        documentForm.description = '';\r\n        documentForm.category = null;\r\n        documentForm.departmentId = currentUser.value?.departmentId || null;\r\n        documentForm.isPublic = false;\r\n        \r\n        selectedFile.value = null;\r\n        submitted.value = false;\r\n        uploadDialogVisible.value = true;\r\n      };\r\n      \r\n      const closeUploadDialog = () => {\r\n        if (uploading.value) return;\r\n        uploadDialogVisible.value = false;\r\n      };\r\n      \r\n      const onFileSelect = (event) => {\r\n        selectedFile.value = event.files[0];\r\n        \r\n        // Auto-fill title from filename if empty\r\n        if (!documentForm.title && selectedFile.value) {\r\n          // Remove extension\r\n          const filename = selectedFile.value.name.replace(/\\.[^/.]+$/, '');\r\n          documentForm.title = filename;\r\n        }\r\n        \r\n        // Auto-detect category from file type if empty\r\n        if (!documentForm.category && selectedFile.value) {\r\n          const fileType = selectedFile.value.type;\r\n          \r\n          if (fileType.includes('pdf')) {\r\n            documentForm.category = 'report';\r\n          } else if (fileType.includes('word')) {\r\n            documentForm.category = 'policy';\r\n          } else if (fileType.includes('excel') || fileType.includes('spreadsheet')) {\r\n            documentForm.category = 'financial';\r\n          } else if (fileType.includes('powerpoint') || fileType.includes('presentation')) {\r\n            documentForm.category = 'presentation';\r\n          }\r\n        }\r\n      };\r\n      \r\n      const onFileClear = () => {\r\n        selectedFile.value = null;\r\n      };\r\n      \r\n      const uploadDocument = async () => {\r\n        submitted.value = true;\r\n        \r\n        // Validate form\r\n        if (!documentForm.title || !selectedFile.value) {\r\n          return;\r\n        }\r\n        \r\n        try {\r\n          uploading.value = true;\r\n          uploadProgress.value = 0;\r\n          \r\n          // Create form data\r\n          const formData = new FormData();\r\n          formData.append('title', documentForm.title);\r\n          formData.append('document', selectedFile.value);\r\n          \r\n          if (documentForm.description) {\r\n            formData.append('description', documentForm.description);\r\n          }\r\n          \r\n          if (documentForm.category) {\r\n            formData.append('category', documentForm.category);\r\n          }\r\n          \r\n          if (documentForm.departmentId) {\r\n            formData.append('departmentId', documentForm.departmentId);\r\n          }\r\n          \r\n          formData.append('isPublic', documentForm.isPublic);\r\n          \r\n          // Upload with progress tracking\r\n          const response = await api.post('/api/documents', formData, {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data'\r\n            },\r\n            onUploadProgress: (progressEvent) => {\r\n              uploadProgress.value = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n            }\r\n          });\r\n          \r\n          // Add document to list\r\n          documents.value.unshift(response.data.data);\r\n          \r\n          // Close dialog\r\n          uploadDialogVisible.value = false;\r\n          \r\n          // Show success message\r\n          store.dispatch('showToast', {\r\n            severity: 'success',\r\n            summary: 'Success',\r\n            detail: 'Document uploaded successfully'\r\n          });\r\n        } catch (error) {\r\n          console.error('Error uploading document:', error);\r\n          store.dispatch('showToast', {\r\n            severity: 'error',\r\n            summary: 'Error',\r\n            detail: error.response?.data?.message || 'Failed to upload document'\r\n          });\r\n        } finally {\r\n          uploading.value = false;\r\n        }\r\n      };\r\n      \r\n      const viewDocument = (id) => {\r\n        router.push(`/documents/${id}`);\r\n      };\r\n      \r\n      const downloadDocument = (doc) => {\r\n        // In production, this would trigger a direct download\r\n        if (doc.file_path) {\r\n          window.open(doc.file_path, '_blank');\r\n        }\r\n      };\r\n      \r\n      const canEditDocument = (doc) => {\r\n        if (isAdmin.value) return true;\r\n        return doc.created_by === currentUser.value?.id;\r\n      };\r\n      \r\n      const canDeleteDocument = (doc) => {\r\n        if (isAdmin.value) return true;\r\n        return doc.created_by === currentUser.value?.id;\r\n      };\r\n      \r\n      const editDocument = (doc) => {\r\n        selectedDocument.value = doc;\r\n        \r\n        // Copy values to edit form\r\n        editForm.title = doc.title;\r\n        editForm.description = doc.description || '';\r\n        editForm.category = doc.category;\r\n        editForm.departmentId = doc.department_id;\r\n        editForm.isPublic = doc.is_public;\r\n        \r\n        editSubmitted.value = false;\r\n        editDialogVisible.value = true;\r\n      };\r\n      \r\n      const closeEditDialog = () => {\r\n        editDialogVisible.value = false;\r\n      };\r\n      \r\n      const saveDocumentChanges = async () => {\r\n        editSubmitted.value = true;\r\n        \r\n        // Validate form\r\n        if (!editForm.title) {\r\n          return;\r\n        }\r\n        \r\n        try {\r\n          loading.value = true;\r\n          \r\n          const response = await api.put(`/api/documents/${selectedDocument.value.id}`, {\r\n            title: editForm.title,\r\n            description: editForm.description,\r\n            category: editForm.category,\r\n            departmentId: editForm.departmentId,\r\n            isPublic: editForm.isPublic\r\n          });\r\n          \r\n          // Update document in list\r\n          const index = documents.value.findIndex(d => d.id === selectedDocument.value.id);\r\n          if (index !== -1) {\r\n            documents.value[index] = response.data.data;\r\n          }\r\n          \r\n          // Close dialog\r\n          editDialogVisible.value = false;\r\n          \r\n          // Show success message\r\n          store.dispatch('showToast', {\r\n            severity: 'success',\r\n            summary: 'Success',\r\n            detail: 'Document updated successfully'\r\n          });\r\n        } catch (error) {\r\n          console.error('Error updating document:', error);\r\n          store.dispatch('showToast', {\r\n            severity: 'error',\r\n            summary: 'Error',\r\n            detail: error.response?.data?.message || 'Failed to update document'\r\n          });\r\n        } finally {\r\n          loading.value = false;\r\n        }\r\n      };\r\n      \r\n      const confirmDeleteDocument = (doc) => {\r\n        confirm.require({\r\n          message: 'Are you sure you want to delete this document?',\r\n          header: 'Delete Confirmation',\r\n          icon: 'pi pi-exclamation-triangle',\r\n          acceptClass: 'p-button-danger',\r\n          accept: () => deleteDocument(doc),\r\n          reject: () => {}\r\n        });\r\n      };\r\n      \r\n      const deleteDocument = async (doc) => {\r\n        try {\r\n          loading.value = true;\r\n          \r\n          await api.delete(`/api/documents/${doc.id}`);\r\n          \r\n          // Remove document from list\r\n          documents.value = documents.value.filter(d => d.id !== doc.id);\r\n          \r\n          // Show success message\r\n          store.dispatch('showToast', {\r\n            severity: 'success',\r\n            summary: 'Success',\r\n            detail: 'Document deleted successfully'\r\n          });\r\n        } catch (error) {\r\n          console.error('Error deleting document:', error);\r\n          store.dispatch('showToast', {\r\n            severity: 'error',\r\n            summary: 'Error',\r\n            detail: error.response?.data?.message || 'Failed to delete document'\r\n          });\r\n        } finally {\r\n          loading.value = false;\r\n        }\r\n      };\r\n      \r\n      const formatDate = (dateString) => {\r\n        if (!dateString) return '';\r\n        const date = new Date(dateString);\r\n        return date.toLocaleDateString('en-US', {\r\n          year: 'numeric',\r\n          month: 'short',\r\n          day: 'numeric'\r\n        });\r\n      };\r\n      \r\n      const formatFileSize = (bytes) => {\r\n        if (!bytes) return '0 Bytes';\r\n        \r\n        const k = 1024;\r\n        const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\r\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n        \r\n        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n      };\r\n      \r\n      const formatFileType = (type) => {\r\n        if (!type) return 'Unknown';\r\n        \r\n        const lookup = {\r\n          'application/pdf': 'PDF',\r\n          'application/msword': 'Word',\r\n          'application/vnd.openxmlformats-officedocument.wordprocessingml.document': 'Word',\r\n          'application/vnd.ms-excel': 'Excel',\r\n          'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': 'Excel',\r\n          'application/vnd.ms-powerpoint': 'PowerPoint',\r\n          'application/vnd.openxmlformats-officedocument.presentationml.presentation': 'PowerPoint',\r\n          'text/plain': 'Text',\r\n          'image/jpeg': 'JPEG',\r\n          'image/png': 'PNG'\r\n        };\r\n        \r\n        return lookup[type] || type.split('/')[1].toUpperCase();\r\n      };\r\n      \r\n      const getDocumentIcon = (fileType) => {\r\n        if (!fileType) return 'pi-file-o';\r\n        \r\n        const type = fileType.toLowerCase();\r\n        \r\n        if (type.includes('pdf')) return 'pi-file-pdf';\r\n        if (type.includes('word') || type.includes('document')) return 'pi-file-word';\r\n        if (type.includes('excel') || type.includes('sheet')) return 'pi-file-excel';\r\n        if (type.includes('powerpoint') || type.includes('presentation')) return 'pi-file-powerpoint';\r\n        if (type.includes('zip') || type.includes('rar')) return 'pi-file-archive';\r\n        if (type.includes('jpg') || type.includes('jpeg') || \r\n            type.includes('png') || type.includes('gif')) return 'pi-file-image';\r\n        if (type.includes('text') || type.includes('txt')) return 'pi-file-lines';\r\n        \r\n        return 'pi-file-o';\r\n      };\r\n      \r\n      const truncateText = (text, maxLength) => {\r\n        if (!text) return '';\r\n        if (text.length <= maxLength) return text;\r\n        \r\n        return text.substr(0, maxLength) + '...';\r\n      };\r\n      \r\n      // Load departments on mount\r\n      onMounted(async () => {\r\n        try {\r\n          await store.dispatch('departments/fetchDepartments');\r\n          loadDocuments();\r\n        } catch (error) {\r\n          console.error('Error initializing documents page:', error);\r\n        }\r\n      });\r\n      \r\n      return {\r\n        // State\r\n        loading,\r\n        documents,\r\n        pagination,\r\n        filters,\r\n        uploadDialogVisible,\r\n        editDialogVisible,\r\n        documentForm,\r\n        editForm,\r\n        selectedDocument,\r\n        selectedFile,\r\n        uploading,\r\n        uploadProgress,\r\n        submitted,\r\n        editSubmitted,\r\n        \r\n        // Computed\r\n        categories,\r\n        departments,\r\n        \r\n        // Methods\r\n        loadDocuments,\r\n        onPageChange,\r\n        clearFilters,\r\n        openUploadDialog,\r\n        closeUploadDialog,\r\n        onFileSelect,\r\n        onFileClear,\r\n        uploadDocument,\r\n        viewDocument,\r\n        downloadDocument,\r\n        canEditDocument,\r\n        canDeleteDocument,\r\n        editDocument,\r\n        closeEditDialog,\r\n        saveDocumentChanges,\r\n        confirmDeleteDocument,\r\n        \r\n        // Formatters\r\n        formatDate,\r\n        formatFileSize,\r\n        formatFileType,\r\n        getDocumentIcon,\r\n        truncateText\r\n      };\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .documents-container {\r\n    padding: 1rem;\r\n  }\r\n  \r\n  .page-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-bottom: 1.5rem;\r\n  }\r\n  \r\n  .page-title {\r\n    font-size: 1.5rem;\r\n    font-weight: 600;\r\n    margin: 0;\r\n  }\r\n  \r\n  .filter-card {\r\n    margin-bottom: 1.5rem;\r\n    padding: 1rem;\r\n  }\r\n  \r\n  .loading-card, .empty-state {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 3rem;\r\n    text-align: center;\r\n  }\r\n  \r\n  .spinner {\r\n    width: 50px;\r\n    height: 50px;\r\n    margin-bottom: 1rem;\r\n  }\r\n  \r\n  .empty-icon {\r\n    font-size: 3rem;\r\n    color: var(--text-color-secondary);\r\n    margin-bottom: 1rem;\r\n  }\r\n  \r\n  .document-list {\r\n    margin-bottom: 2rem;\r\n  }\r\n  \r\n  .document-card {\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: relative;\r\n    transition: transform 0.2s;\r\n  }\r\n  \r\n  .document-card:hover {\r\n    transform: translateY(-3px);\r\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n  }\r\n  \r\n  .document-card-content {\r\n    display: flex;\r\n    padding: 1rem;\r\n    flex: 1;\r\n  }\r\n  \r\n  .document-icon-container {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 3rem;\r\n    height: 3rem;\r\n    border-radius: 0.5rem;\r\n    margin-right: 1rem;\r\n    background-color: rgba(59, 130, 246, 0.1);\r\n  }\r\n  \r\n  .document-icon {\r\n    font-size: 1.5rem;\r\n    color: var(--primary-color);\r\n  }\r\n  \r\n  .document-details {\r\n    flex: 1;\r\n  }\r\n  \r\n  .document-title {\r\n    font-weight: 600;\r\n    font-size: 1rem;\r\n    margin-bottom: 0.25rem;\r\n  }\r\n  \r\n  .document-meta {\r\n    display: flex;\r\n    font-size: 0.75rem;\r\n    color: var(--text-color-secondary);\r\n    margin-bottom: 0.5rem;\r\n  }\r\n  \r\n  .document-type {\r\n    margin-right: 1rem;\r\n  }\r\n  \r\n  .document-info {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    font-size: 0.75rem;\r\n    color: var(--text-color-secondary);\r\n    margin-bottom: 0.5rem;\r\n  }\r\n  \r\n  .document-department, .document-size {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-right: 1rem;\r\n  }\r\n  \r\n  .document-department i, .document-size i {\r\n    margin-right: 0.25rem;\r\n  }\r\n  \r\n  .document-description {\r\n    font-size: 0.875rem;\r\n    margin-bottom: 0.5rem;\r\n    color: var(--text-color-secondary);\r\n  }\r\n  \r\n  .document-tag {\r\n    margin-top: 0.25rem;\r\n  }\r\n  \r\n  .document-actions {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    padding: 0.5rem;\r\n    border-top: 1px solid var(--surface-border);\r\n  }\r\n  \r\n  .pagination-container {\r\n    display: flex;\r\n    justify-content: center;\r\n    margin-top: 1.5rem;\r\n  }\r\n  \r\n  .form-field {\r\n    margin-bottom: 1.5rem;\r\n  }\r\n  \r\n  .form-field label {\r\n    display: block;\r\n    margin-bottom: 0.5rem;\r\n    font-weight: 500;\r\n  }\r\n  \r\n  .form-field .required {\r\n    color: var(--danger-color);\r\n  }\r\n  \r\n  @media screen and (max-width: 768px) {\r\n    .page-header {\r\n      flex-direction: column;\r\n      align-items: flex-start;\r\n    }\r\n    \r\n    .page-actions {\r\n      margin-top: 1rem;\r\n      width: 100%;\r\n    }\r\n    \r\n    .page-actions button {\r\n      width: 100%;\r\n    }\r\n    \r\n    .document-card-content {\r\n      flex-direction: column;\r\n    }\r\n    \r\n    .document-icon-container {\r\n      margin-right: 0;\r\n      margin-bottom: 1rem;\r\n    }\r\n  }\r\n  </style>\r\n<!-- \r\n  export default {\r\n    name: 'DocumentsView',\r\n    components: {\r\n      InputText,\r\n      Button,\r\n      Dropdown,\r\n      ProgressSpinner,\r\n      ProgressBar,\r\n      FileUpload,\r\n      Paginator,\r\n      Dialog,\r\n      Textarea,\r\n      Checkbox,\r\n      Tag,\r\n      ConfirmDialog-->"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}